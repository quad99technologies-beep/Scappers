# ============================================================================
# Canada Quebec RAMQ Scraper - Configuration (.env file)
# ============================================================================
# Copy this file to .env in the project root and update with your values.
# All values shown here are the default values (backward compatible).
# ============================================================================

# ============================================================================
# PATH CONFIGURATION
# ============================================================================
# Base directory (leave empty to auto-detect from script location)
BASE_DIR=

# Input directory (relative to BASE_DIR or absolute path)
INPUT_DIR=input

# Output directory (relative to BASE_DIR or absolute path)
OUTPUT_DIR=output

# Split PDF directory (relative to OUTPUT_DIR or absolute path)
SPLIT_PDF_DIR=split_pdf

# CSV output directory (relative to OUTPUT_DIR or absolute path)
CSV_OUTPUT_DIR=csv

# QA output directory (relative to OUTPUT_DIR or absolute path)
QA_OUTPUT_DIR=qa

# Backup directory (relative to BASE_DIR or absolute path)
BACKUP_DIR=backups

# ============================================================================
# FILE NAMES
# ============================================================================
DEFAULT_INPUT_PDF_NAME=liste-med.pdf
ANNEXE_IV1_PDF_NAME=annexe_iv1.pdf
ANNEXE_IV2_PDF_NAME=annexe_iv2.pdf
ANNEXE_V_PDF_NAME=annexe_v.pdf

ANNEXE_IV1_CSV_NAME=annexe_iv1_extracted.csv
ANNEXE_IV2_CSV_NAME=annexe_iv2_extracted.csv
ANNEXE_V_CSV_NAME=annexe_v_extracted.csv
FINAL_REPORT_NAME_PREFIX=canadaquebecreport_
FINAL_REPORT_DATE_FORMAT=%d%m%Y

LOG_FILE_ANNEXE_V=annexe_v_extraction_log.txt
LOG_FILE_MERGE=merge_log.txt
INDEX_JSON_NAME=index.json

# ============================================================================
# API CONFIGURATION
# ============================================================================
# OpenAI API Key (REQUIRED for step_03 and step_04)
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI Model (gpt-4o-mini or gpt-4o)
OPENAI_MODEL=gpt-4o-mini

# ============================================================================
# STATIC VALUES
# ============================================================================
STATIC_CURRENCY=CAD
STATIC_REGION=NORTH AMERICA

# ============================================================================
# EXTRACTION TUNING
# ============================================================================
# PDF extraction tolerances (pdfplumber x_tolerance and y_tolerance)
X_TOL=1.0
Y_TOL=1.6

# Annexe V extraction settings
ANNEXE_V_START_PAGE_1IDX=1
ANNEXE_V_MAX_ROWS=

# ============================================================================
# VALIDATION THRESHOLDS
# ============================================================================
MIN_PAGES_WITH_DIN=10
MIN_HEADERS_RATIO=0.40
MIN_ROW_SHAPE_RATIO=0.55
MAX_FLAGGED_RATIO=0.35

# Default band configuration (brand_max manuf_min manuf_max pack_min unit_min)
DEFAULT_BAND=0.42 0.42 0.60 0.58 0.73

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Set DB_ENABLED=1 to enable database operations, DB_ENABLED=0 to disable
DB_ENABLED=0

# PostgreSQL Connection Settings (required if DB_ENABLED=1)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=scraper_db
DB_USER=postgres
DB_PASSWORD=your_password_here

# Scraper Identification
# This will be attached to all database records as scraper_id
SCRAPER_ID=canada_quebec_ramq

# Example database configurations:
# 
# Local development:
# DB_ENABLED=1
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=ramq_scraper
# DB_USER=postgres
# DB_PASSWORD=dev_password
# SCRAPER_ID=canada_quebec_ramq_dev
#
# Production:
# DB_ENABLED=1
# DB_HOST=prod-db.example.com
# DB_PORT=5432
# DB_NAME=ramq_scraper_prod
# DB_USER=scraper_user
# DB_PASSWORD=secure_production_password
# SCRAPER_ID=canada_quebec_ramq_prod
#
# Disabled (no database):
# DB_ENABLED=0

